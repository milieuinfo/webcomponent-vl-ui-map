import{define}from"/node_modules/vl-ui-core/dist/vl-core.min.js";import{VlMapAction}from"/node_modules/vl-ui-map/dist/vl-map-action.min.js";export class VlMapLayerAction extends VlMapAction{static get _observedAttributes(){return["layer"]}connectedCallback(){super.connectedCallback(),this._layerChangedCallback()}get layer(){return this._layer}set layer(e){this._layer=e,this._processAction()}get _layerElement(){return this._mapElement.querySelector(`[data-vl-is-layer][data-vl-name="${this.dataset.vlLayer}"]`)||this.closest("[data-vl-is-layer]")}_layerChangedCallback(){this._layerElement&&(this.layer=this._layerElement.layer)}_processAction(){this._mapElement.ready.then((()=>{this._action&&this._mapElement.removeAction(this._action),this.layer&&(this._action=this._createAction(this.layer),super._processAction())}))}}define("vl-map-layer-action",VlMapLayerAction);