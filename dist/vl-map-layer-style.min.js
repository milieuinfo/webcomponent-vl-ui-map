import{vlElement,define}from"/node_modules/vl-ui-core/dist/vl-core.min.js";import{OlStyle,OlStyleFill,OlStyleStroke,OlStyleText}from"/node_modules/vl-mapactions/dist/vl-mapactions.js";export class VlMapLayerStyle extends(vlElement(HTMLElement)){connectedCallback(){this._setStyleOnParent()}get color(){return this.getAttribute("color")||"rgba(2, 85, 204, 0.8)"}get borderColor(){return this.getAttribute("border-color")||"rgba(2, 85, 204, 1)"}get borderSize(){return this.getAttribute("border-size")||1}get textColor(){return this.getAttribute("text-color")||"#FFF"}get textBackgroundColor(){return this.getAttribute("text-background-color")||"rgba(0, 0, 0, 0)"}get textBorderColor(){return this.getAttribute("text-border-color")||"rgba(255, 255, 255, 0)"}get textBorderSize(){return Number(this.getAttribute("text-border-size")||1)}get textSize(){return this.getAttribute("text-size")||"10px"}get textFeatureAttributeName(){return this.getAttribute("text-feature-attribute-name")||null}get textOffsetX(){return this.getAttribute("text-offset-x")||0}get textOffsetY(){return this.getAttribute("text-offset-y")||0}get style(){return(t,e)=>this.appliesTo(t)?this._styleFunction(t,e):null}get _styleFunction(){return(t,e)=>{const r={fill:new OlStyleFill({color:this.color}),stroke:new OlStyleStroke({color:this.borderColor,width:this.borderSize})};return r.text=this._getTextStyle(t),new OlStyle(r)}}_getTextStyle(t,e){return new OlStyleText({font:`${this.textSize} "Flanders Art Sans",sans-serif`,text:this.featureLabelFunction(t),fill:new OlStyleFill({color:e||this.textColor}),stroke:new OlStyleStroke({color:this.textBorderColor,width:this.textBorderSize}),backgroundFill:new OlStyleFill({color:this.textBackgroundColor}),offsetX:this.textOffsetX,offsetY:this.textOffsetY})}appliesTo(t){return!0}get featureLabelFunction(){return this.textFeatureAttributeName?t=>t.get(this.textFeatureAttributeName):()=>""}_hasUniqueStyles(t){const e=this._getStyles(t);return e&&this._containsObject(e)&&this._areIdentical(e)}_containsStyle(t){return this._containsObject(t.map((t=>t.getStyle())))}_getStyles(t){return t.map((t=>t.getStyle()))}_containsObject(t){return t.some((t=>!!t))}_areIdentical(t){return t.every(((t,e,r)=>t==r[0]))}_setStyleOnParent(){if(this.parentElement)return this.parentElement.style=this}}define("vl-map-layer-style",VlMapLayerStyle);