import{VlMapLayerStyle}from"/node_modules/vl-ui-map/dist/vl-map-layer-style.min.js";import{OlStyle,OlStyleCircle,OlStyleStroke,OlStyleFill}from"/node_modules/vl-mapactions/dist/vl-mapactions.js";export class VlMapLayerCircleStyle extends VlMapLayerStyle{get size(){return this.getAttribute("size")||5}get borderColor(){return this.getAttribute("border-color")||"rgba(0, 0, 0, 0)"}get borderSize(){return this.getAttribute("border-size")||1}get clusterTextColor(){return this.getAttribute("cluster-text-color")||"#FFF"}get clusterColor(){return this.getAttribute("cluster-color")||"rgba(2, 85, 204, 1)"}get style(){return(t,e)=>{const r=t&&t.get&&t.get("features")||[],l=r.length||1,o=1==l?1:Math.max(1.5,l.toString().length);let i=this.textColor,s=this.color,n=this.borderColor,g=this.borderSize,u=l>1?this.size*o:this.size;if(this.parentElement&&this.parentElement.cluster)if(this._hasUniqueStyles(r)){let t=r[0].getStyle();t instanceof Function&&(t=t());const e=t.getImage();s=e.getFill().getColor(),n=e.getStroke().getColor(),g=e.getStroke().getWidth(),u=l>1?e.getRadius()*o:e.getRadius()}else this._containsStyle(r)&&(s=this.clusterColor,i=this.clusterTextColor);return new OlStyle({image:new OlStyleCircle({fill:new OlStyleFill({color:s}),stroke:new OlStyleStroke({color:n,width:g}),radius:u}),text:this._getTextStyle(t,i)})}}get featureLabelFunction(){return t=>{const e=(t&&t.get&&t.get("features")||[]).length||1;return e>1?e.toString():""}}}