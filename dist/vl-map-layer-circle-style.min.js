import{VlMapLayerStyle}from"/node_modules/vl-ui-map/dist/vl-map-layer-style.min.js";import{OlStyle,OlStyleCircle,OlStyleStroke,OlStyleText,OlStyleFill}from"/node_modules/vl-mapactions/dist/vl-mapactions.js";export class VlMapLayerCircleStyle extends VlMapLayerStyle{get size(){return this.getAttribute("size")||5}get borderColor(){return this.getAttribute("border-color")||"rgba(0, 0, 0, 0)"}get borderSize(){return this.getAttribute("border-size")||1}get clusterTextColor(){return this.getAttribute("cluster-text-color")||"#FFF"}get clusterColor(){return this.getAttribute("cluster-color")||"rgba(2, 85, 204, 1)"}get style(){return(t,e)=>{const l=t&&t.get&&t.get("features")||[],r=l.length||1,o=1==r?1:Math.max(3,r.toString().length),i=r>1?r.toString():"";let s=this.textColor,n=this.color,g=this.borderColor,a=this.borderSize,u=r>1?this.size*o:this.size;if(this.parentElement&&this.parentElement.cluster)if(this._hasUniqueStyles(l)){let t=l[0].getStyle();t instanceof Function&&(t=t());const e=t.getImage();n=e.getFill().getColor(),g=e.getStroke().getColor(),a=e.getStroke().getWidth(),u=r>1?e.getRadius()*o:e.getRadius()}else this._containsStyle(l)&&(n=this.clusterColor,s=this.clusterTextColor);return new OlStyle({image:new OlStyleCircle({fill:new OlStyleFill({color:n}),stroke:new OlStyleStroke({color:g,width:a}),radius:u}),text:new OlStyleText({text:i,fill:new OlStyleFill({color:s}),offsetX:this.textOffsetX,offsetY:this.textOffsetY})})}}}