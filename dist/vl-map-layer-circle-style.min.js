import{define}from"/node_modules/vl-ui-core/dist/vl-core.min.js";import{VlMapLayerStyle}from"/node_modules/vl-ui-map/dist/vl-map-layer-style.min.js";import{OlStyle,OlStyleCircle,OlStyleStroke,OlStyleFill}from"/node_modules/vl-mapactions/dist/vl-mapactions.js";export class VlMapLayerCircleStyle extends VlMapLayerStyle{get size(){return this.getAttribute("size")||5}get borderColor(){return this.getAttribute("border-color")||"rgba(0, 0, 0, 0)"}get borderSize(){return this.getAttribute("border-size")||1}get clusterTextColor(){return this.getAttribute("cluster-text-color")||"#FFF"}get clusterColor(){return this.getAttribute("cluster-color")||"rgba(2, 85, 204, 1)"}get style(){return(e,t)=>{const r=e&&e.get&&e.get("features")||[],l=r.length||1,i=1==l?1:Math.max(1.5,l.toString().length);let o=this.textColor,s=this.color,n=this.borderColor,a=this.borderSize,g=l>1?this.size*i:this.size;if(this.parentElement&&this.parentElement.cluster)if(this._hasUniqueStyles(r)){let e=r[0].getStyle();e instanceof Function&&(e=e());const t=e.getImage();s=t.getFill().getColor(),n=t.getStroke().getColor(),a=t.getStroke().getWidth(),g=l>1?t.getRadius()*i:t.getRadius()}else this._containsStyle(r)&&(s=this.clusterColor,o=this.clusterTextColor);return new OlStyle({image:new OlStyleCircle({fill:new OlStyleFill({color:s}),stroke:new OlStyleStroke({color:n,width:a}),radius:g}),text:this._getTextStyle(e,o)})}}get featureLabelFunction(){return e=>{const t=(e&&e.get&&e.get("features")||[]).length||1;return t>1?t.toString():""}}}define("vl-map-layer-circle-style",VlMapLayerCircleStyle);