import{define}from"/node_modules/vl-ui-core/dist/vl-core.min.js";import{VlMapLayerStyle}from"/node_modules/vl-ui-map/dist/vl-map-layer-style.min.js";import{OlStyle,OlStyleCircle,OlStyleStroke,OlStyleFill}from"/node_modules/vl-mapactions/dist/vl-mapactions.js";export class VlMapLayerCircleStyle extends VlMapLayerStyle{get size(){return this.getAttribute("size")||5}get borderColor(){return this.getAttribute("border-color")||"rgba(0, 0, 0, 0)"}get borderSize(){return this.getAttribute("border-size")||1}get clusterTextColor(){return this.getAttribute("cluster-text-color")||"#FFF"}get clusterColor(){return this.getAttribute("cluster-color")||"rgba(2, 85, 204, 1)"}get _styleFunction(){return(t,e)=>{const r=t&&t.get&&t.get("features")||[],l=r.length||1,i=1==l?1:Math.max(1.5,l.toString().length);let o=this.textColor,s=this.color,n=this.borderColor,a=this.borderSize,g=l>1?this.size*i:this.size;if(this.parentElement&&this.parentElement.cluster)if(this._hasUniqueStyles(r)){let t=r[0].getStyle();t instanceof Function&&(t=t());const e=t.getImage();s=e.getFill().getColor(),n=e.getStroke().getColor(),a=e.getStroke().getWidth(),g=l>1?e.getRadius()*i:e.getRadius()}else this._containsStyle(r)&&(s=this.clusterColor,o=this.clusterTextColor);return new OlStyle({image:new OlStyleCircle({fill:new OlStyleFill({color:s}),stroke:new OlStyleStroke({color:n,width:a}),radius:g}),text:this._getTextStyle(t,o)})}}get featureLabelFunction(){return t=>{const e=(t&&t.get&&t.get("features")||[]).length||1;return e>1?e.toString():""}}}define("vl-map-layer-circle-style",VlMapLayerCircleStyle);