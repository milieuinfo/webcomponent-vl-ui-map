import{VlMapLayer}from"/node_modules/vl-ui-map/dist/vl-map-layer.min.js";import"/node_modules/vl-ui-map/dist/vl-map-wms-style.min.js";export class VlMapWmsLayer extends VlMapLayer{constructor(t,e){super(),this.__layerClass=t,this.__sourceClass=e}connectedCallback(){super.connectedCallback(),this._source=this.__createSource(this.__sourceClass),this._layer=this.__createLayer(this.__layerClass)}get _url(){const t=this.getAttribute("data-vl-url");if(!t)throw new Error("URL not defined");return t}get _layers(){const t=this.getAttribute("data-vl-layers");if(!t)throw new Error("Layers not defined");return t}get _styles(){return this.getAttribute("data-vl-styles")||""}get _sldBody(){const t=this.querySelector(":scope > vl-map-wms-style");if(t)return t._sldBody}get _version(){return this.getAttribute("data-vl-version")||"1.3.0"}get _opacity(){return Number(this.getAttribute("data-vl-opacity")||1)}_createLayerConfig(t){return{title:this._name,source:t,opacity:this._opacity,minResolution:this._minResolution,maxResolution:this._maxResolution,visible:this._visible}}get _sourceConfig(){return{url:this._url,params:{LAYERS:this._layers,STYLES:this._styles,VERSION:this._version,SLD_BODY:this._sldBody}}}__createLayer(t){const e=new t(this._createLayerConfig(this._source));return e.set("id",VlMapLayer._counter),e}__createSource(t){return new t(this._sourceConfig)}}