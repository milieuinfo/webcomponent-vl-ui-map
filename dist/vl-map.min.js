import{vlElement}from"/node_modules/vl-ui-core/dist/vl-core.min.js";export class VlMap extends(vlElement(HTMLElement)){constructor(){super('\n      <style>\n        @import "/src/style.css";\n      </style>\n      <style>\n        :host {\n          display: none;\n          position: relative;\n          --vl-map--margin-top: 0px;\n        }\n        \n        #map {\n          height: calc(var(--vl-map-height, 500px) - var(--vl-map--margin-top)); \n          width: 100%;\n        }\n        \n        .ol-zoom, .ol-zoomslider, .ol-rotate {\n          margin-top: var(--vl-map--margin-top) !important;\n        }\n        \n        .ol-overlaycontainer-stopevent > .ol-zoom {\n          border-radius: 0;\n        }\n        \n        .ol-overlaycontainer-stopevent > .ol-overviewmap {\n          border-radius: 0;\n          width: 100px;\n          height: 100px;\n        }\n        \n        .ol-overlaycontainer-stopevent > .ol-scale-line {\n          border-radius: 0;\n          background-color: white;\n        }\n        \n        .ol-overlaycontainer-stopevent > .ol-scale-line .ol-scale-line-inner {\n          border-color: black;\n          color: black;\n        }\n        \n        .ol-overlaycontainer-stopevent > .ol-control {\n          margin-top: 0;\n        }\n        \n        .ol-overlaycontainer-stopevent > .ol-zoomslider {\n          background: none;\n        }\n        \n        .ol-overlaycontainer-stopevent > .ol-zoomslider .ol-zoomslider-thumb {\n          margin-bottom: 5px;\n        }\n      </style>\n\n      <div id="map"></div>\n    '),this.__prepareReadyPromises()}get ready(){return this.__ready}__prepareReadyPromises(){this.__mapReady=new Promise(e=>this.__mapReadyResolver=e),this.__overviewMapReady=new Promise(e=>this.__overviewMapReadyResolver=e),this.__ready=Promise.all([this.__mapReady,this.__overviewMapReady])}get map(){return this._map}get disableEscapeKey(){return null!=this.getAttribute("disable-escape-key")}get disableRotation(){return null!=this.getAttribute("disable-rotation")}get disableMouseWheelZoom(){return null!=this.getAttribute("disable-mouse-wheel-zoom")}get _geoJSON(){return this.__geoJSON||(this.__geoJSON=new ol.format.GeoJSON),this.__geoJSON}get _mapElement(){return this._shadow.querySelector("#map")}get _projection(){return new ol.proj.Projection({code:"EPSG:31370",extent:this._extent})}get _extent(){return[9928,66928,272072,329072]}connectedCallback(){this.__initializeCoordinateSystem(),this._map=new acd.ol.CustomMap({actions:[],disableEscapeKey:this.disableEscapeKey,disableRotation:this.disableRotation,disableMouseWheelZoom:this.disableMouseWheelZoom,customLayers:{baseLayerGroup:this.__createLayerGroup("Basis lagen",[]),overviewMapLayers:[],overlayGroup:this.__createLayerGroup("Lagen",[])},projection:this._projection,target:this._mapElement}),this._map.initializeView(),this.__updateMapSizeOnLoad(),this.__updateOverviewMapSizeOnLoad()}addAction(e){this._map.addAction(e)}zoomTo(e){this._map.zoomToExtent(e)}__updateMapSize(){this.style.display="block",this._map&&this._map.updateSize(),this.__mapReadyResolver()}__updateOverviewMapSize(){this._map.overviewMapControl&&this._map.overviewMapControl.getOverviewMap().updateSize(),this.__overviewMapReadyResolver()}__updateOverviewMapSizeOnLoad(){VlMap.__callOnceOnLoad(this.__updateOverviewMapSize.bind(this))}__updateMapSizeOnLoad(){VlMap.__callOnceOnLoad(this.__updateMapSize.bind(this))}__createLayerGroup(e,t){return new ol.layer.Group({title:e,layers:t})}__initializeCoordinateSystem(){proj4.defs("EPSG:31370","+proj=lcc +lat_1=51.16666723333333 +lat_2=49.8333339 +lat_0=90 +lon_0=4.367486666666666 +x_0=150000.013 +y_0=5400088.438 +ellps=intl +towgs84=-106.869,52.2978,-103.724,0.3366,-0.457,1.8422,-1.2747 +units=m +no_defs")}static __callOnceOnLoad(e){"complete"===document.readyState?e():window.addEventListener("load",e,{once:!0})}}
