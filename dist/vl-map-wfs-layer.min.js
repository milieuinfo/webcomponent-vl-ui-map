import{VlMapVectorLayer}from"/node_modules/vl-ui-map/dist/vl-map-vector-layer.min.js";import{OlVectorSource,OlLoadingstrategy,OlGML2}from"/node_modules/vl-mapactions/dist/vl-mapactions.js";export class VlMapWfsLayer extends VlMapVectorLayer{constructor(){super(),this._source=this.__createSource(),this._layer=this._createLayer()}get _url(){const t=this.getAttribute("url");if(!t)throw new Error("URL not defined");return new URL(t)}get _layers(){const t=this.getAttribute("layers");if(!t)throw new Error("Layers not defined");return t}__createSource(){return new OlVectorSource({format:this.__sourceFormat,strategy:this.__loadingStrategy,url:this.__getWfsUrl.bind(this)})}__getWfsUrl(t,e,r){const s=this._url,o=s.searchParams;return o.set("service","WFS"),o.set("request","GetFeature"),o.set("typename",this._layers),o.set("bbox",t.join(",")),o.set("srsname",r.getCode()),o.set("outputFormat",this.__wfsOutputFormat),o.set("version",this.__wfsVersion),s}get __loadingStrategy(){return OlLoadingstrategy.bbox}get __sourceFormat(){return new OlGML2}get __wfsOutputFormat(){return"GML2"}get __wfsVersion(){return"2.0.0"}}