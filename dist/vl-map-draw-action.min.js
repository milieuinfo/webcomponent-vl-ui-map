import{VlMapLayerAction}from"/node_modules/vl-ui-map/dist/vl-map-layer-action.min.js";import{VlMapVectorLayer}from"/node_modules/vl-ui-map/dist/vl-map-vector-layer.min.js";import{VlCompositeVectorLayer}from"/node_modules/vl-mapactions/dist/vl-mapactions.js";export class VlMapDrawAction extends VlMapLayerAction{onDraw(e){this.__callback=e}get __drawOptions(){return void 0!==this.dataset.vlSnapping?0==this.__snappingLayers.length?{snapping:!0}:{snapping:{layer:this.__createSnappingLayer(),pixelTolerance:this.dataset.vlSnappingPixelTolerance||10,node:!1,vertex:!1}}:{}}__createSnappingLayer(){const e=new VlCompositeVectorLayer(this.__snappingLayers.map((e=>e._layer)),{}),a=this.__snappingLayers[0];return e.setStyle(a.style),a.addEventListener(VlMapVectorLayer.EVENTS.styleChanged,(a=>{e.setStyle(a.target.style)})),e}get __snappingLayers(){return Array.from(this.querySelectorAll("vl-map-wfs-layer"))}}