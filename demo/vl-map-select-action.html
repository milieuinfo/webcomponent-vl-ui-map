<!DOCTYPE html>
<html>

<head>
    <title>vl-map-select-action voorbeeld</title>
    <script type="module" src="/node_modules/vl-ui-demo/dist/vl-demo-all.js"></script>
    <script type="module" src="/node_modules/vl-ui-body/dist/vl-body.js"></script>

    <script type="module" src="/src/vl-map-all.js"></script>
    <script>
        window.onload = () => {
          const showLogOnSelect = (layerSelector, selectActionSelector, logSelector) => {
            const layer = document.querySelector(layerSelector);
            const selectAction = document.querySelector(selectActionSelector);

            selectAction.layer = layer.layer;
            selectAction.activateAction();
            selectAction.onSelect((feature) => {
              if (feature) {
                document.querySelector(logSelector).innerText = 'Feature' + (feature.getId() != null ? ' met id ' + feature.getId() : '') + ' werd geselecteerd!';
              }
            });
          };
          showLogOnSelect('#map-layer', '#select-action', '#select-action-log');
          showLogOnSelect('#map-layer-cluster', '#select-action-cluster', '#select-action-cluster-log');
        };
    </script>

    <link rel="stylesheet" type="text/css" href="/node_modules/vl-ui-body/dist/style.css" />
</head>

<body is="vl-body">
    <vl-demo-page data-vl-webcomponent="vl-map-select-action">
        <vl-demo data-vl-title="Kaart met kaartlaag met selecteer actie">
            <div id="select-action-log"></div>
            <vl-map id="map-with-select-action">
                <vl-map-baselayer-grb-gray></vl-map-baselayer-grb-gray>
                <vl-map-baselayer-grb></vl-map-baselayer-grb>
                <vl-map-baselayer-grb-ortho></vl-map-baselayer-grb-ortho>
                <vl-map-layer id="map-layer" name="laag" features='
                {
                    "type": "FeatureCollection",
                    "features": [{
                        "type": "Feature",
                        "id": 1,
                        "geometry": {
                            "type": "Point",
                            "coordinates": [147055.0,197908.0]
                        }
                    }, {
                        "type": "Feature",
                        "id": 2,
                        "geometry": {
                            "type": "Point",
                            "coordinates": [149055.0,199908.0]
                        }
                    }, {
                        "type": "Feature",
                        "id": 3,
                        "geometry": {
                            "type": "Point",
                            "coordinates": [151055.0,201908.0]
                        }
                    }]
                }'>
                </vl-map-layer>
                <vl-map-select-action id="select-action">
                    <vl-map-layer-circle-style color="#fff" border-color="yellow"></vl-map-layer-circle-style>
                </vl-map-select-action>
            </vl-map>
        </vl-demo>

        <vl-demo data-vl-title="Kaart met kaartlaag met selecteer actie en clustering">
            <vl-map>
                <div id="select-action-cluster-log"></div>
                <vl-map-baselayer-grb-gray></vl-map-baselayer-grb-gray>
                <vl-map-baselayer-grb></vl-map-baselayer-grb>
                <vl-map-baselayer-grb-ortho></vl-map-baselayer-grb-ortho>
                <vl-map-layer id="map-layer-cluster" name="laag" cluster cluster-distance="100" features='
                {
                    "type": "FeatureCollection",
                    "features": [{
                        "type": "Feature",
                        "id": 1,
                        "geometry": {
                            "type": "Point",
                            "coordinates": [147055.0,197908.0]
                        }
                    }, {
                        "type": "Feature",
                        "id": 2,
                        "geometry": {
                            "type": "Point",
                            "coordinates": [149055.0,199908.0]
                        }
                    }, {
                        "type": "Feature",
                        "id": 3,
                        "geometry": {
                            "type": "Point",
                            "coordinates": [151055.0,201908.0]
                        }
                    }]
                }'>
                </vl-map-layer>
                <vl-map-select-action id="select-action-cluster" cluster>
                    <vl-map-layer-circle-style color="#fff" border-color="yellow"></vl-map-layer-circle-style>
                </vl-map-select-action>
            </vl-map>
        </vl-demo>
    </vl-demo-page>
</body>

</html>
