<!DOCTYPE html>
<html>

<head>
  <title>vl-map-search voorbeeld</title>
  <script type="module" src="../vl-map.js"></script>
  <script type="module" src="demo.js"></script>
  <script type="module" src="/node_modules/vl-ui-button/vl-button.js"></script>
  <link rel="stylesheet" type="text/css" href="demo.css">
</head>

<body>
<h1>vl-ui-map-search demo</h1>

<div>
  <h2>Kaart met adres zoek functionaliteit</h2>
  <pre>
      <code class="line-numbers language-markup">
        &lt;vl-map&gt;
          &lt;vl-map-search&gt;&lt;/vl-map-search&gt;
          &lt;vl-map-baselayer-grb-gray&gt;&lt;/vl-map-baselayer-grb-gray&gt;
          &lt;vl-map-baselayer-grb&gt;&lt;/vl-map-baselayer-grb&gt;
          &lt;vl-map-baselayer-grb-ortho&gt;&lt;/vl-map-baselayer-grb-ortho&gt;
        &lt;/vl-map&gt;
      </code>
    </pre>
  <div class="demo">
    <vl-map id="vl-map-1">
      <vl-map-search id="vl-map-search-1"></vl-map-search>
      <vl-map-baselayer-grb-gray></vl-map-baselayer-grb-gray>
      <vl-map-baselayer-grb></vl-map-baselayer-grb>
      <vl-map-baselayer-grb-ortho></vl-map-baselayer-grb-ortho>
    </vl-map>
  </div>
</div>

<div>
  <h2>Bind map</h2>
  <p>Een vl-map-search element en een vl-map element handmatig te koppelen.</p>
  <pre>
      <code class="line-numbers language-markup">
        &lt;vl-map-search id="vl-map-search-2"&gt;&lt;/vl-map-search&gt;
        &lt;button onclick="document.querySelector('#vl-map-search-2').bindMap(document.querySelector('#vl-map-2'))"&gt;Bind&lt;/button&gt;
        &lt;vl-map id="vl-map-2"&gt;
          &lt;vl-map-baselayer-grb-gray&gt;&lt;/vl-map-baselayer-grb-gray&gt;
          &lt;vl-map-baselayer-grb&gt;&lt;/vl-map-baselayer-grb&gt;
          &lt;vl-map-baselayer-grb-ortho&gt;&lt;/vl-map-baselayer-grb-ortho&gt;
        &lt;/vl-map&gt;
      </code>
    </pre>
  <div class="demo">
    <button is="vl-button" type="button" onclick="document.querySelector('#vl-map-search-2').bindMap(document.querySelector('#vl-map-2'))">Koppel zoekbalk aan kaart</button>
    <vl-map-search id="vl-map-search-2"></vl-map-search>
    <vl-map id="vl-map-2">
      <vl-map-baselayer-grb-gray></vl-map-baselayer-grb-gray>
      <vl-map-baselayer-grb></vl-map-baselayer-grb>
      <vl-map-baselayer-grb-ortho></vl-map-baselayer-grb-ortho>
    </vl-map>
  </div>
</div>

<div>
  <h2>onSelectCallback</h2>
</div>
<pre>
      <code class="line-numbers language-markup">
        &lt;vl-map id="vl-map-3"&gt;
          &lt;vl-map-search&gt;&lt;/vl-map-search&gt;
          &lt;vl-map-baselayer-grb-gray&gt;&lt;/vl-map-baselayer-grb-gray&gt;
          &lt;vl-map-baselayer-grb&gt;&lt;/vl-map-baselayer-grb&gt;
          &lt;vl-map-baselayer-grb-ortho&gt;&lt;/vl-map-baselayer-grb-ortho&gt;
        &lt;/vl-map&gt;

        &lt;script&gt;
          Promise.all([
            customElements.whenDefined('vl-map'),
            customElements.whenDefined('vl-map-search')])
            .then(() =&gt; {
              document.querySelector('#vl-map-3').shadowRoot.querySelector('vl-map-search').onSelect((e) =&gt; {
              document.querySelector('#vl-map-search-3-result').innerText = JSON.stringify(e);
              document.querySelector('#vl-map-3').zoomTo(
              [
                data.LocationResult[0].BoundingBox.LowerLeft.X_Lambert72,
                data.LocationResult[0].BoundingBox.LowerLeft.Y_Lambert72,
                data.LocationResult[0].BoundingBox.UpperRight.X_Lambert72,
                data.LocationResult[0].BoundingBox.UpperRight.Y_Lambert72
              ]);
            });
          });
        &lt;/script&gt;

        </div>
      </code>
    </pre>
<div class="demo">
  <vl-map id="vl-map-3">
    <vl-map-search></vl-map-search>
    <vl-map-baselayer-grb-gray></vl-map-baselayer-grb-gray>
    <vl-map-baselayer-grb></vl-map-baselayer-grb>
    <vl-map-baselayer-grb-ortho></vl-map-baselayer-grb-ortho>
  </vl-map>
  Location:<p id="vl-map-search-3-result"></p>
</div>
<script>
  Promise.all([
    customElements.whenDefined('vl-map'),
    customElements.whenDefined('vl-map-search')])
  .then(() => {
    document.querySelector('#vl-map-3').shadowRoot.querySelector('vl-map-search').onSelect((data) => {
      document.querySelector('#vl-map-search-3-result').innerText = JSON.stringify(data);
      document.querySelector('#vl-map-3').zoomTo(
          [
            data.LocationResult[0].BoundingBox.LowerLeft.X_Lambert72,
            data.LocationResult[0].BoundingBox.LowerLeft.Y_Lambert72,
            data.LocationResult[0].BoundingBox.UpperRight.X_Lambert72,
            data.LocationResult[0].BoundingBox.UpperRight.Y_Lambert72
          ]);
    });
  });
</script>
</body>

</html>